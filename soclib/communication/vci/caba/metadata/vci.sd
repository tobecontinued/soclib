
# -*- python -*-

Signal('caba:vci',
	   tmpl_parameters = [parameter.Module('vci_param', default = 'vci_param')],
	   classname = 'soclib::caba::VciSignals',
	   header_files = ['../source/include/vci_signals.h'],
	   accepts = {
	'caba:vci_initiator': 1,
	'caba:vci_target': 1,
	},
	   )

PortDecl('caba:vci_initiator',
	 tmpl_parameters = [parameter.Module('vci_param', default = 'vci_param')],
	 classname = 'soclib::caba::VciInitiator',
	 signal = 'caba:vci',
	 header_files = ['../source/include/vci_initiator.h'],
	 )

PortDecl('caba:vci_target',
	 tmpl_parameters = [parameter.Module('vci_param', default = 'vci_param')],
	 classname = 'soclib::caba::VciTarget',
	 signal = 'caba:vci',
	 header_files = ['../source/include/vci_target.h'],
	 )

Module('caba:vci_param',
	   classname = 'soclib::caba::VciParams',
	   tmpl_parameters = [
		parameter.Int('cell_size'),
		parameter.Int('plen_size'),
		parameter.Int('addr_size'),
		parameter.Int('rerror_size'),
		parameter.Int('clen_size'),
		parameter.Int('rflag_size'),
		parameter.Int('srcid_size'),
		parameter.Int('pktid_size'),
		parameter.Int('trdid_size'),
		parameter.Int('wrplen_size'),
		],
	   header_files = ['../source/include/vci_param.h',],
)
