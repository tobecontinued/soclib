
# -*- python -*-

Module('caba:vci_factory',
	classname = 'soclib::caba::VciFactory',
	   tmpl_parameters = [
	parameter.Module('vci_param',  default = 'caba:vci_param'),
	],
	header_files = ['../include/vci_factory.h',],
	implementation_files = ['../src/vci_factory.cpp',],
	uses = [
		Uses('caba:vci_dma'),
		Uses('caba:vci_fd_access'),
		Uses('caba:vci_framebuffer'),
		Uses('caba:vci_icu'),
		Uses('caba:vci_locks'),
		Uses('caba:vci_ram'),
		Uses('caba:vci_multi_tty'),
		Uses('caba:vci_mwmr_controller', fifo_depth = 32),
		#Uses('caba:vci_pi_initiator_wrapper'),
		#Uses('caba:vci_pi_target_wrapper'),
		Uses('caba:vci_simhelper'),
		Uses('caba:vci_timer'),
		Uses('caba:vci_vgmn'),
		Uses('caba:vci_local_crossbar'),
		Uses('caba:vci_simple_crossbar'),
		Uses('caba:vci_xcache'),

		Uses('caba:vci_xcache_wrapper', iss_t = "common:ississ2", iss2_t = "common:mipsel"),
		Uses('caba:vci_xcache_wrapper', iss_t = "common:ississ2", iss2_t = "common:mipseb"),
		Uses('caba:vci_xcache_wrapper', iss_t = "common:ppc405"),
		Uses('caba:vci_xcache_wrapper', iss_t = "common:ississ2", iss2_t = "common:microblaze"),
		Uses('caba:vci_xcache_wrapper', iss_t = "common:mips32el"),
		Uses('caba:vci_xcache_wrapper', iss_t = "common:mips32eb"),

		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:ississ2", iss2_t = "common:mipsel"),
		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:ississ2", iss2_t = "common:mipseb"),
		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:ppc405"),
		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:ississ2", iss2_t = "common:microblaze"),
		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:mips32el"),
		Uses('caba:vci_xcache_wrapper', iss_t = 'common:gdb_iss', gdb_iss_t = "common:mips32eb"),

		Uses('common:inst_arg'),
		Uses('caba:caba_factory'),
		],
)
